//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
#pragma once
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#include <list>
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

struct tagBot
{
	int				aIndex;
	std::string		Name;
	BYTE			BotMap;
	BYTE			BotX;
	BYTE			BotY;
	BYTE			BotTX;
	BYTE			BotTY;
	BYTE			BotDir;
	WORD			BotClass;
	BYTE			BotIsRabbi;
	BYTE			isEventBot;
	BYTE			CharSet[CHAR_SET_SIZE];
	std::string		BotAds;
	std::string		BotAds2;
	std::string		BotAds3;
	std::string		BotAds4;
	// ----
	void			Clear()
	{
		this->aIndex	= -1;
		this->BotMap	= 0;
		this->BotX		= 0;
		this->BotY		= 0;
		this->BotTX		= 0;
		this->BotTY		= 0;
		this->BotDir	= 0;
		this->BotClass	= 0;
		this->BotIsRabbi = 0;
		this->isEventBot = 0;
		// ----
		this->Name.clear();
		this->BotAds.clear();
		this->BotAds2.clear();
		this->BotAds3.clear();
		this->BotAds4.clear();
		// ----
		memset(this->CharSet, 0xFF, sizeof(this->CharSet));
	};
};
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define BOTS_FILE "./GameServer_Bots.cfg"
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

#define BOTS_LIST std::list<tagBot>
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

class CBotSystem
{
public:
	BOTS_LIST	m_Bots;
	// ----
	CBotSystem(void);
	~CBotSystem(void);
	// ----
	bool	loadBots();
	// ----
	void	printDemo(int aIndex);
	// ----
	bool	isThatBot(int aIndex);
	// ----
	void	addBots();
	void	delBots();
	void	sendMessageFromBot(int Index, const char *Format, ...);
	// ----
	static void	talkWorker(LPVOID param);
};
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

extern CBotSystem g_BotSystem;
extern int RABBI_INDEX;
//--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
